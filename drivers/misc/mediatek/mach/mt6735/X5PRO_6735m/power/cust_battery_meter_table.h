#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#endif

#define RBAT_PULL_UP_VOLT          1800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,68237},
        {-15,53650},
        {-10,42506},
        { -5,33892},
        {  0,27219},
        {  5,22021},
        { 10,17926},
        { 15,14674},
        { 20,12081},
        { 25,10000},
        { 30,8315},
        { 35,6948},
        { 40,5834},
        { 45,4917},
        { 50,4161},
        { 55,3535},
        { 60,3014}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0   ,4382},         
	{1   ,4351},         
	{3   ,4332},         
	{4   ,4313},         
	{6   ,4296},         
	{7   ,4280},         
	{8   ,4265},         
	{10  ,4249},         
	{11  ,4233},         
	{13  ,4217},         
	{14  ,4202},         
	{15  ,4187},         
	{17  ,4173},         
	{18  ,4158},         
	{19  ,4143},         
	{21  ,4128},         
	{22  ,4113},         
	{24  ,4099},         
	{25  ,4086},         
	{26  ,4078},         
	{28  ,4068},         
	{29  ,4050},         
	{31  ,4023},         
	{32  ,3998},         
	{33  ,3978},         
	{35  ,3962},         
	{36  ,3948},         
	{37  ,3935},         
	{39  ,3924},         
	{40  ,3914},         
	{42  ,3904},         
	{43  ,3894},         
	{44  ,3883},         
	{46  ,3874},         
	{47  ,3865},         
	{49  ,3856},         
	{50  ,3849},         
	{51  ,3841},         
	{53  ,3834},         
	{54  ,3828},         
	{55  ,3822},         
	{57  ,3816},         
	{58  ,3810},         
	{60  ,3805},         
	{61  ,3800},         
	{62  ,3795},         
	{64  ,3791},         
	{65  ,3787},         
	{67  ,3783},         
	{68  ,3779},         
	{69  ,3775},         
	{71  ,3772},         
	{72  ,3769},         
	{73  ,3766},    
	{75  ,3762},
	{76  ,3758},
	{78  ,3754},       
	{79  ,3749},
	{80  ,3743},       
	{82  ,3737},
	{83  ,3730},         
	{85  ,3722},
	{86  ,3713},
	{87  ,3704},
	{89  ,3697},
	{90  ,3693},
	{91  ,3690},
	{93  ,3687},
	{94  ,3680},
	{96  ,3659},
	{97  ,3614},
	{98  ,3541},
	{100 ,3429},
	{100 ,3429},
	{100 ,3429},
};      
        
// T1 0C 
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
		{0   ,4382},           
	{1   ,4351},           
	{3   ,4332},           
	{4   ,4313},           
	{6   ,4296},           
	{7   ,4280},           
	{8   ,4265},           
	{10  ,4249},           
	{11  ,4233},           
	{13  ,4217},           
	{14  ,4202},           
	{15  ,4187},           
	{17  ,4173},           
	{18  ,4158},           
	{19  ,4143},           
	{21  ,4128},           
	{22  ,4113},           
	{24  ,4099},           
	{25  ,4086},           
	{26  ,4078},           
	{28  ,4068},           
	{29  ,4050},           
	{31  ,4023},           
	{32  ,3998},           
	{33  ,3978},           
	{35  ,3962},           
	{36  ,3948},           
	{37  ,3935},           
	{39  ,3924},           
	{40  ,3914},           
	{42  ,3904},           
	{43  ,3894},           
	{44  ,3883},           
	{46  ,3874},           
	{47  ,3865},           
	{49  ,3856},           
	{50  ,3849},           
	{51  ,3841},           
	{53  ,3834},           
	{54  ,3828},           
	{55  ,3822},           
	{57  ,3816},           
	{58  ,3810},           
	{60  ,3805},           
	{61  ,3800},           
	{62  ,3795},           
	{64  ,3791},           
	{65  ,3787},           
	{67  ,3783},           
	{68  ,3779},           
	{69  ,3775},           
	{71  ,3772},           
	{72  ,3769},           
	{73  ,3766},      
	{75  ,3762},  
	{76  ,3758},  
	{78  ,3754},         
	{79  ,3749},  
	{80  ,3743},         
	{82  ,3737},  
	{83  ,3730},           
	{85  ,3722},  
	{86  ,3713},  
	{87  ,3704},  
	{89  ,3697},  
	{90  ,3693},  
	{91  ,3690},  
	{93  ,3687},  
	{94  ,3680},  
	{96  ,3659},  
	{97  ,3614},  
	{98  ,3541},  
	{100 ,3429},  
	{100 ,3429},  
	{100 ,3429},  
};           

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0   ,4391},          
	{1   ,4369},          
	{3   ,4355},          
	{4   ,4341},          
	{5   ,4326},          
	{7   ,4310},          
	{8   ,4294},          
	{9   ,4279},          
	{11  ,4263},          
	{12  ,4247},          
	{13  ,4232},          
	{15  ,4216},          
	{16  ,4200},          
	{18  ,4185},          
	{19  ,4170},          
	{20  ,4155},          
	{22  ,4140},          
	{23  ,4125},          
	{24  ,4111},          
	{26  ,4096},          
	{27  ,4082},          
	{28  ,4070},          
	{30  ,4062},          
	{31  ,4048},          
	{32  ,4027},          
	{34  ,4006},          
	{35  ,3989},          
	{36  ,3977},          
	{38  ,3967},          
	{39  ,3956},          
	{40  ,3942},          
	{42  ,3929},          
	{43  ,3914},          
	{44  ,3900},          
	{46  ,3889},          
	{47  ,3878},          
	{48  ,3869},          
	{50  ,3860},          
	{51  ,3852},          
	{53  ,3845},          
	{54  ,3838},          
	{55  ,3831},          
	{57  ,3824},          
	{58  ,3819},          
	{59  ,3813},          
	{61  ,3807},          
	{62  ,3802},          
	{63  ,3797},          
	{65  ,3793},          
	{66  ,3788},          
	{67  ,3783},          
	{69  ,3779},          
	{70  ,3774},          
	{71  ,3769},     
	{73  ,3764}, 
	{74  ,3758}, 
	{75  ,3752},        
	{77  ,3747}, 
	{78  ,3742},        
	{79  ,3737}, 
	{81  ,3733},          
	{82  ,3727}, 
	{83  ,3718}, 
	{85  ,3711}, 
	{86  ,3703}, 
	{88  ,3693}, 
	{89  ,3686}, 
	{90  ,3684}, 
	{92  ,3682}, 
	{93  ,3681}, 
	{94  ,3677}, 
	{96  ,3662}, 
	{97  ,3615}, 
	{98  ,3546}, 
	{100 ,3445}, 
};     

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
{0   ,4392},         
	{1   ,4370},         
	{3   ,4356},         
	{4   ,4342},         
	{5   ,4327},         
	{7   ,4312},         
	{8   ,4296},         
	{9   ,4281},         
	{11  ,4265},         
	{12  ,4249},         
	{13  ,4234},         
	{15  ,4218},         
	{16  ,4202},         
	{17  ,4187},         
	{19  ,4171},         
	{20  ,4156},         
	{21  ,4141},         
	{23  ,4127},         
	{24  ,4112},         
	{26  ,4098},         
	{27  ,4084},         
	{28  ,4070},         
	{30  ,4056},         
	{31  ,4042},         
	{32  ,4029},         
	{34  ,4015},         
	{35  ,4002},         
	{36  ,3990},         
	{38  ,3977},         
	{39  ,3964},         
	{40  ,3950},         
	{42  ,3935},         
	{43  ,3919},         
	{44  ,3904},         
	{46  ,3892},         
	{47  ,3881},         
	{48  ,3871},         
	{50  ,3863},         
	{51  ,3854},         
	{52  ,3846},         
	{54  ,3839},         
	{55  ,3832},         
	{56  ,3825},         
	{58  ,3819},         
	{59  ,3813},         
	{61  ,3807},         
	{62  ,3801},         
	{63  ,3796},         
	{65  ,3792},         
	{66  ,3787},         
	{67  ,3782},         
	{69  ,3777},         
	{70  ,3771},         
	{71  ,3762},    
	{73  ,3752},
	{74  ,3745},
	{75  ,3739},       
	{77  ,3733},
	{78  ,3727},       
	{79  ,3722},
	{81  ,3717},         
	{82  ,3712},
	{83  ,3704},
	{85  ,3696},
	{86  ,3689},
	{87  ,3679},
	{89  ,3671},
	{90  ,3669},
	{92  ,3668},
	{93  ,3666},
	{94  ,3663},
	{96  ,3649},
	{97  ,3606},
	{98  ,3542},
	{100 ,3450},
 
};           

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
  {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
	{208 ,4382},         
	{208 ,4351},         
	{211 ,4332},         
	{213 ,4313},         
	{215 ,4296},         
	{218 ,4280},         
	{220 ,4265},         
	{221 ,4249},         
	{220 ,4233},         
	{224 ,4217},         
	{227 ,4202},         
	{229 ,4187},         
	{231 ,4173},         
	{233 ,4158},         
	{235 ,4143},         
	{238 ,4128},         
	{240 ,4113},         
	{243 ,4099},         
	{245 ,4086},         
	{250 ,4078},         
	{257 ,4068},         
	{259 ,4050},         
	{255 ,4023},         
	{251 ,3998},         
	{248 ,3978},         
	{244 ,3962},         
	{239 ,3948},         
	{236 ,3935},         
	{230 ,3924},         
	{227 ,3914},         
	{223 ,3904},         
	{221 ,3894},         
	{220 ,3883},         
	{218 ,3874},         
	{216 ,3865},         
	{217 ,3856},         
	{219 ,3849},         
	{220 ,3841},         
	{221 ,3834},         
	{220 ,3828},         
	{223 ,3822},         
	{226 ,3816},         
	{227 ,3810},         
	{227 ,3805},         
	{229 ,3800},         
	{230 ,3795},         
	{232 ,3791},         
	{234 ,3787},         
	{235 ,3783},         
	{235 ,3779},         
	{235 ,3775},         
	{237 ,3772},         
	{238 ,3769},         
	{241 ,3766},    
	{241 ,3762},
	{241 ,3758},
	{245 ,3754},       
	{246 ,3749},
	{249 ,3743},       
	{253 ,3737},
	{255 ,3730},         
	{260 ,3722},
	{265 ,3713},
	{270 ,3704},
	{274 ,3697},
	{284 ,3693},
	{298 ,3690},
	{321 ,3687},
	{354 ,3680},
	{389 ,3659},
	{415 ,3614},
	{458 ,3541},
	{543 ,3429},
	{543 ,3429},
	{543 ,3429},
};      

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
	{208 ,4382},          
	{208 ,4351},          
	{211 ,4332},          
	{213 ,4313},          
	{215 ,4296},          
	{218 ,4280},          
	{220 ,4265},          
	{221 ,4249},          
	{220 ,4233},          
	{224 ,4217},          
	{227 ,4202},          
	{229 ,4187},          
	{231 ,4173},          
	{233 ,4158},          
	{235 ,4143},          
	{238 ,4128},          
	{240 ,4113},          
	{243 ,4099},          
	{245 ,4086},          
	{250 ,4078},          
	{257 ,4068},          
	{259 ,4050},          
	{255 ,4023},          
	{251 ,3998},          
	{248 ,3978},          
	{244 ,3962},          
	{239 ,3948},          
	{236 ,3935},          
	{230 ,3924},          
	{227 ,3914},          
	{223 ,3904},          
	{221 ,3894},          
	{220 ,3883},          
	{218 ,3874},          
	{216 ,3865},          
	{217 ,3856},          
	{219 ,3849},          
	{220 ,3841},          
	{221 ,3834},          
	{220 ,3828},          
	{223 ,3822},          
	{226 ,3816},          
	{227 ,3810},          
	{227 ,3805},          
	{229 ,3800},          
	{230 ,3795},          
	{232 ,3791},          
	{234 ,3787},          
	{235 ,3783},          
	{235 ,3779},          
	{235 ,3775},          
	{237 ,3772},          
	{238 ,3769},          
	{241 ,3766},     
	{241 ,3762}, 
	{241 ,3758}, 
	{245 ,3754},        
	{246 ,3749}, 
	{249 ,3743},        
	{253 ,3737}, 
	{255 ,3730},          
	{260 ,3722}, 
	{265 ,3713}, 
	{270 ,3704}, 
	{274 ,3697}, 
	{284 ,3693}, 
	{298 ,3690}, 
	{321 ,3687}, 
	{354 ,3680}, 
	{389 ,3659}, 
	{415 ,3614}, 
	{458 ,3541}, 
	{543 ,3429}, 
	{543 ,3429}, 
	{543 ,3429}, 
};     

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
		{109  ,4391},          
	{109  ,4369},          
	{111  ,4355},          
	{110  ,4341},          
	{111  ,4326},          
	{111  ,4310},          
	{111  ,4294},          
	{111  ,4279},          
	{112  ,4263},          
	{112  ,4247},          
	{113  ,4232},          
	{113  ,4216},          
	{114  ,4200},          
	{114  ,4185},          
	{115  ,4170},          
	{115  ,4155},          
	{116  ,4140},          
	{118  ,4125},          
	{119  ,4111},          
	{120  ,4096},          
	{122  ,4082},          
	{126  ,4070},          
	{131  ,4062},          
	{129  ,4048},          
	{128  ,4027},          
	{129  ,4006},          
	{133  ,3989},          
	{136  ,3977},          
	{138  ,3967},          
	{138  ,3956},          
	{131  ,3942},          
	{126  ,3929},          
	{119  ,3914},          
	{114  ,3900},          
	{113  ,3889},          
	{111  ,3878},          
	{111  ,3869},          
	{111  ,3860},          
	{110  ,3852},          
	{111  ,3845},          
	{111  ,3838},          
	{111  ,3831},          
	{112  ,3824},          
	{113  ,3819},          
	{113  ,3813},          
	{114  ,3807},          
	{114  ,3802},          
	{116  ,3797},          
	{118  ,3793},          
	{118  ,3788},          
	{118  ,3783},          
	{119  ,3779},          
	{118  ,3774},          
	{117  ,3769},     
	{115  ,3764}, 
	{113  ,3758}, 
	{112  ,3752},        
	{112  ,3747}, 
	{111  ,3742},        
	{112  ,3737}, 
	{113  ,3733},          
	{113  ,3727}, 
	{111  ,3718}, 
	{92   ,3711}, 
	{93   ,3703}, 
	{92   ,3693}, 
	{91   ,3686}, 
	{92   ,3684}, 
	{114  ,3682}, 
	{118  ,3681}, 
	{123  ,3677}, 
	{123  ,3662}, 
	{119  ,3615}, 
	{125  ,3546}, 
	{134  ,3445}, 
}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	{99   ,4392},         
	{99   ,4370},         
	{98   ,4356},         
	{100  ,4342},         
	{99   ,4327},         
	{100  ,4312},         
	{99   ,4296},         
	{100  ,4281},         
	{101  ,4265},         
	{101  ,4249},         
	{102  ,4234},         
	{102  ,4218},         
	{102  ,4202},         
	{102  ,4187},         
	{101  ,4171},         
	{102  ,4156},         
	{102  ,4141},         
	{103  ,4127},         
	{105  ,4112},         
	{105  ,4098},         
	{105  ,4084},         
	{106  ,4070},         
	{107  ,4056},         
	{108  ,4042},         
	{109  ,4029},         
	{109  ,4015},         
	{112  ,4002},         
	{113  ,3990},         
	{115  ,3977},         
	{116  ,3964},         
	{116  ,3950},         
	{112  ,3935},         
	{109  ,3919},         
	{105  ,3904},         
	{102  ,3892},         
	{102  ,3881},         
	{101  ,3871},         
	{101  ,3863},         
	{101  ,3854},         
	{102  ,3846},         
	{102  ,3839},         
	{101  ,3832},         
	{102  ,3825},         
	{102  ,3819},         
	{102  ,3813},         
	{103  ,3807},         
	{104  ,3801},         
	{104  ,3796},         
	{106  ,3792},         
	{107  ,3787},         
	{108  ,3782},         
	{109  ,3777},         
	{109  ,3771},         
	{104  ,3762},    
	{100  ,3752},
	{101  ,3745},
	{103  ,3739},       
	{102  ,3733},
	{102  ,3727},       
	{102  ,3722},
	{104  ,3717},         
	{104  ,3712},
	{104  ,3704},
	{82   ,3696},
	{84   ,3689},
	{82   ,3679},
	{78   ,3671},
	{81   ,3669},
	{105  ,3668},
	{109  ,3666}, 
	{114  ,3663},
	{112  ,3649},
	{107  ,3606},
	{111  ,3542},
	{116  ,3450},
}; 

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
  {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

